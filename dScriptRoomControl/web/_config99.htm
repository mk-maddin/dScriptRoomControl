<!DOCTYPE HTML>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration</title>
    <link rel="stylesheet" type="text/css" href="dscript.css">
 </head>

<body onload="startAJAX()">
    <div id="container">
            <p id="ModuleName"> ~Module~ <span style="font-size: 40%">  System Configuration  - App Settings </span> </p>
            <p id="devantech"> By Martin Kraemer </p>
          <br>
        <div id="hr"> <hr style="width: 100%; height: 1px; background-color: #FFFFFF; border: none">  </div>
          <div id="menubar">
            <ul>
                <div onmouseover="StatusText(this)"> <li><a href="_config.htm">Status</a></li> </div>
                <div onmouseover="NetworkText(this)" onmouseout="StatusText(this)"> <li><a href="_config2.htm">Network</a></li> </div>
                <div onmouseover="TCPIPText(this)" onmouseout="StatusText(this)"> <li><a href="_config3.htm">TCP/IP</a></li> </div>
                <div onmouseover="SecurityText(this)" onmouseout="StatusText(this)"> <li><a href="_config4.htm">Webpage Security</a></li> </div>
<!--                <div onmouseover="Relay1Text(this)" onmouseout="StatusText(this)"> <li><a href="_config5.htm">Relays</a></li> </div> -->
<!--                <div onmouseover="IOText(this)" onmouseout="StatusText(this)"> <li><a href="_config7.htm">Input/Output</a></li> </div> -->
<!--                <div onmouseover="EasyMailText(this)" onmouseout="StatusText(this)"> <li><a href="_config9.htm">Email</a></li> </div> -->
<!--                <div onmouseover="P2PText(this)" onmouseout="StatusText(this)"> <li><a href="_config10.htm">Peer to Peer</a></li> </div> -->
<!--                <div onmouseover="ScheduleText(this)" onmouseout="StatusText(this)"> <li><a href="_config11.htm">Scheduler</a></li> </div> -->
<!--                <div onmouseover="CounterText(this)" onmouseout="StatusText(this)"> <li><a href="_config12.htm">Counter/Timer</a></li> </div> -->
                <div onmouseover="AppCfgText(this)" onmouseout="StatusText(this)"> <li><a href="_config99.htm">App Settings</a></li> </div> 
                <div onmouseover="AppText(this)" onmouseout="StatusText(this)"> <li><a href="index.htm">Application Page</a></li> </div> 
            </ul>
        </div>
		
        <div id="centerblock">
            <div id="center">
                <div onmouseover="ClickSleepText(this)" onmouseout="AppCfgText(this)">
                    <div class="item-line"> Click Time </div>
                    <input type="text" value = ~App_ClickSleep~ onkeyup="newAJAXCommand('dscript.cgi?App_ClickSleep='+document.getElementById('AppClickSleep').value);" id="AppClickSleep">
                </div>
                <div onmouseover="LightsText(this)" onmouseout="AppCfgText(this)">
                    <div class="item-line"> Num Lights  </div>
                    <input type="text" value = "~App_Lights~" onkeyup="newAJAXCommand('dscript.cgi?App_Lights='+document.getElementById('AppLights').value);" id="AppLights">
                </div>                
                <div onmouseover="ShuttersText(this)" onmouseout="AppCfgText(this)">
                    <div class="item-line"> Num Shutters  </div>
                    <input type="text" value = "~App_Shutters~" onkeyup="UpdateAppShutters(this)" id="AppShutters">
                </div>                
                <div onmouseover="LightsOffsetText(this)" onmouseout="AppCfgText(this)">
                    <div class="item-line"> Lights Offset  </div>
                    <input type="text" value = "~App_LightsOffset~" onkeyup="newAJAXCommand('dscript.cgi?App_LightsOffset='+document.getElementById('AppLightsOffset').value);" id="AppLightsOffset">
                </div>  
                <div onmouseover="WindowShutterCTText(this)" onmouseout="AppCfgText(this)">
                    <div class="item-line"> Window shut CT </div>
                    <input type="text" value = ~App_WindowShutterCT~ onkeyup="newAJAXCommand('dscript.cgi?App_WindowShutterCT='+document.getElementById('AppWindowShutterCT').value);" id="AppWindowShutterCT">
                </div>
				<div onmouseover="DoorShutterCTText(this)" onmouseout="AppCfgText(this)">
                    <div class="item-line"> Door shut CT </div>
                    <input type="text" value = ~App_DoorShutterCT~ onkeyup="newAJAXCommand('dscript.cgi?App_DoorShutterCT='+document.getElementById('AppDoorShutterCT').value);" id="AppDoorShutterCT">
                </div>
                <br>
                <table>
                    <tr><td>
                        <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL1'>
                            <div> S01 type:
                            <select style = "margin-top:5px" id='AppShutterType1' onchange="newAJAXCommand('dscript.cgi?App_ShutterType1='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div></td><td>                
                        <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL2'>        
                            <div> S02 type:
                            <select style = "margin-top:5px" id='AppShutterType2' onchange="newAJAXCommand('dscript.cgi?App_ShutterType2='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div>
                    <td></tr><tr><td>
                       <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL3'>
                            <div> S03 type:
                            <select style = "margin-top:5px" id='AppShutterType3' onchange="newAJAXCommand('dscript.cgi?App_ShutterType3='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div></td><td>                
                       <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL4'>        
                            <div> S04 type:
                            <select style = "margin-top:5px" id='AppShutterType4' onchange="newAJAXCommand('dscript.cgi?App_ShutterType4='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div>
                    <td></tr><tr><td>
                      <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL5'>
                            <div> S05 type:
                            <select style = "margin-top:5px" id='AppShutterType5' onchange="newAJAXCommand('dscript.cgi?App_ShutterType5='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div></td><td>                
                      <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL6'>        
                            <div> S06 type:
                            <select style = "margin-top:5px" id='AppShutterType6' onchange="newAJAXCommand('dscript.cgi?App_ShutterType6='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div>
                    <td></tr><tr><td>
                       <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL7'>
                            <div> S07 type:
                            <select style = "margin-top:5px" id='AppShutterType7' onchange="newAJAXCommand('dscript.cgi?App_ShutterType7='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div></td><td>                
                       <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL8'>        
                            <div> S08 type:
                            <select style = "margin-top:5px" id='AppShutterType8' onchange="newAJAXCommand('dscript.cgi?App_ShutterType8='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div>
                    <td></tr><tr><td>
                      <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL9'>
                            <div> S09 type:
                            <select style = "margin-top:5px" id='AppShutterType9' onchange="newAJAXCommand('dscript.cgi?App_ShutterType9='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div></td><td>                
                       <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL10'>        
                            <div> S10 type:
                            <select style = "margin-top:5px" id='AppShutterType10' onchange="newAJAXCommand('dscript.cgi?App_ShutterType10='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div>
                    <td></tr><tr><td>
                       <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL11'>
                            <div> S11 type:
                            <select style = "margin-top:5px" id='AppShutterType11' onchange="newAJAXCommand('dscript.cgi?App_ShutterType11='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div></td><td>                
                       <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL12'>        
                            <div> S12 type:
                            <select style = "margin-top:5px" id='AppShutterType12' onchange="newAJAXCommand('dscript.cgi?App_ShutterType12='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div>
                    <td></tr><tr><td>
                      <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL13'>
                            <div> S13 type:
                            <select style = "margin-top:5px" id='AppShutterType13' onchange="newAJAXCommand('dscript.cgi?App_ShutterType13='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div></td><td>                
                       <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL14'>        
                            <div> S14 type:
                            <select style = "margin-top:5px" id='AppShutterType14' onchange="newAJAXCommand('dscript.cgi?App_ShutterType14='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div>
                    <td></tr><tr><td>
                       <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL15'>
                            <div> S15 type:
                            <select style = "margin-top:5px" id='AppShutterType15' onchange="newAJAXCommand('dscript.cgi?App_ShutterType15='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div></td><td>                
                       <div onmouseover="ShutterTypeText(this)" onmouseout="AppCfgText(this)" id='AppShutterTypeL16'>        
                            <div> S16 type:
                            <select style = "margin-top:5px" id='AppShutterType16' onchange="newAJAXCommand('dscript.cgi?App_ShutterType16='+this.value);">
                                <option value='0'>Window</option>
                                <option value='1'>Door</option>
                            </select></div>
                        </div>
                    </td></tr>
                </table>
            </div>
        </div>

        <div id="helpblock">
            <div ID="help">
            </div>
            <div>
                <div class='Indicator1'>  <img class='IO' id='Pend' src='DarkOff.png'/> Update Pending </div>
            </div>
        </div>
    </div>
<script>
AppCfgText();
document.getElementById('AppLights').value = ~App_Lights~;
document.getElementById('AppShutters').value = ~App_Shutters~;
UpdateAppShutters();

function UpdateAppShutters(x) {
    newAJAXCommand('dscript.cgi?App_Shutters='+document.getElementById('AppShutters').value);
    for (x = 1; x <= 16; x++) {
        if (x <= document.getElementById('AppShutters').value) {
            document.getElementById('AppShutterTypeL'+x).style.visibility  = 'visible';} 
        else {document.getElementById('AppShutterTypeL'+x).style.visibility  = 'hidden';}
    }
}

function CounterText(x) {
    document.getElementById('help').innerHTML = "<br>Counter/Timers<br><br>Eight Counter/Timers.<br> Used as Counters when the count input is connected to an Input <br><br>Used as Timers when connected to the internal 1Hz clock, T1.<br><br>The 32-bit counter counts up from zero to a maximum of 2,147,483,647.";
}

function ScheduleText(x) {
    document.getElementById('help').innerHTML = "<br>Scheduler<br><br>Schedule daily events with 8 schedules, 2 events per schedule and a week day mask.";
}

function P2PText(x) {
    document.getElementById('help').innerHTML = "<br>Peer to Peer<br><br>Use inputs on this module to control relays on other dSxxxx modules which can be on your local LAN or across the internet.<br>";
}

function EasyMailText(x) {
    document.getElementById('help').innerHTML = "<br>Easy Mail<br><br>Send secure emails in response to selected events.";
}

function Relay1Text(x) {
    document.getElementById('help').innerHTML = "<br>Relay 1-8 Names<br><br>These are the labels on the relay buttons on the aplication page to give each relay a unique and descriptive name. <br><br>Maximum 20 characters.";
}

function IOText(x) {
    document.getElementById('help').innerHTML = "<br>I/O Names<br><br>These are the I/O labels on the aplication page to give each I/O a unique and descriptive name. <br><br>Maximum 20 characters.";
}

function IOType(x) {
    document.getElementById('help').innerHTML = "<br>I/O Types<br><br>Configure Digital I/O with or without pull-up resistors, or analogue inputs with 4.096v or 5v reference.";
}

function StatusText(x) {
    document.getElementById('help').innerHTML = "<br>Status<br><br>Shows the current status of the module.";
}

function NetworkText(x) {
    document.getElementById('help').innerHTML = "<br>Network<br><br>Configure network IP address and associated parameters.";
}

function TCPIPText(x) {
    document.getElementById('help').innerHTML = "<br>TCP/IP<br><br>Configure the TCP/IP port and command set.";
}

function SecurityText(x) {
    document.getElementById('help').innerHTML = "<br>Webpage Security<br><br>Configure the password for webpage security.";
}

function AppText(x) {
    document.getElementById('help').innerHTML = "<br>Application<br><br>Jumps to the application webpage.";
}

function AppCfgText(x) {
    document.getElementById('help').innerHTML = "<br>App Config<br><br>Define configuration values for current application.";
}

function LightsText(x) {
    document.getElementById('help').innerHTML = "<br>Count of Lights<br><br>Number of lights managed via the DSBoard. Light connections start at relay ~App_LightsOffset~ of board and count downwards.";
}

function ShuttersText(x) {
    document.getElementById('help').innerHTML = "<br>Count of Shutters<br><br>Number of shutters managed via the DSBoard. Shutter connections start at relay 0 of board and count upwards +2.";
}

function LightsOffsetText(x) {
    document.getElementById('help').innerHTML = "<br>Relay ID of first light<br><br>Lights are counted backwards. From highest relay to lowest. This number must be >= lights + shutters*2 to ensure enought relays are reserved.";
}

function ClickSleepText(x) {
    document.getElementById('help').innerHTML = "<br>Time for clicking / delay<br><br>Time (in milliseconds) to provide for multi click/IO-input commands.Be careful with high numbers here - this will increase the time until command is executed.";
}

function WindowShutterCTText(x) {
    document.getElementById('help').innerHTML = "<br>Time for window shutting<br><br>Time (in milliseconds) it takes until a window shutter is fully closed from fully open.";
}

function DoorShutterCTText(x) {
    document.getElementById('help').innerHTML = "<br>Time for door shutting<br><br>Time (in milliseconds) it takes until a door shutter is fully closed from fully open.";
}

function ShutterTypeText(x) {
    document.getElementById('help').innerHTML = "<br>Shutter closing type<br><br>Defines the shutter type based on which the closing time ('Window shut CT' OR 'Door shut CT') is selected.";
}

function ajaxUpdate()
{
    LedStatus = getValue('FlashWritePending');
    if(LedStatus>0) document.getElementById('Pend').src = 'RedOn.png';
    else document.getElementById('Pend').src = 'DarkOff.png';
}
</script>

</body>
</html>

