<!DOCTYPE HTML>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration</title>
    <link rel="stylesheet" type="text/css" href="dscript.css">
 </head>

<body onload="startAJAX()">
    <div id="container">
            <p id="ModuleName"> ~Module~ <span style="font-size: 40%">  System Configuration - Network </span> </p>
            <p id="devantech"> By Martin Kraemer </p>
          <br>
        <div id="hr"> <hr style="width: 100%; height: 1px; background-color: #FFFFFF; border: none">  </div>
        <div w3-include-html="_menubar.htm"></div>		
        <div id="centerblock">
            <div id="center">
                <div onmouseover="HostText(this)" onmouseout="NetworkText(this)">
                    <div class="item-line"> Host Name </div>
                    <input type="text" value = "~System_HostName~" onkeyup="newAJAXCommand('dscript.cgi?System_HostName='+document.getElementById('SystemHostName').value);" id="SystemHostName">
                </div>
                <div onmouseover="IPText(this)" onmouseout="NetworkText(this)">
                    <div class="item-line"> IP Address </div>
                    <input type="text" value = "~System_IP~" onkeyup="newAJAXCommand('dscript.cgi?System_IP='+document.getElementById('SystemIP').value);" id="SystemIP">
                </div>
                <div onmouseover="SubText(this)" onmouseout="NetworkText(this)">
                    <div class="item-line"> Subnet Mask </div>
                    <input type="text" value = "~System_SubNet~" onkeyup="newAJAXCommand('dscript.cgi?System_SubNet='+document.getElementById('SystemSubNet').value);" id="SystemSubNet">
                </div>
                <div onmouseover="GateText(this)" onmouseout="NetworkText(this)">
                    <div class="item-line"> Gateway Address </div>
                    <input type="text" value = "~System_Gateway~" onkeyup="newAJAXCommand('dscript.cgi?System_Gateway='+document.getElementById('SystemGateway').value);" id="SystemGateway">
                </div>
                <div onmouseover="DNS1Text(this)" onmouseout="NetworkText(this)">
                    <div class="item-line"> Primary DNS </div>
                    <input type="text" value = "~System_DNS1~" onkeyup="newAJAXCommand('dscript.cgi?System_DNS1='+document.getElementById('SystemDNS1').value);" id="SystemDNS1">
                </div>
                <div onmouseover="DNS2Text(this)" onmouseout="NetworkText(this)">
                    <div class="item-line"> Secondary DNS </div>
                    <input type="text" value = "~System_DNS2~" onkeyup="newAJAXCommand('dscript.cgi?System_DNS2='+document.getElementById('SystemDNS2').value);" id="SystemDNS2">
                </div>
                <div onmouseover="DHCPText(this)" onmouseout="NetworkText(this)">
                    <div class="item-line"> Enable DHCP </div>
                    <input id="EnableDHCP" name="Enable DHCP" type="checkbox" ~DHCPChecked~ onclick="handleDHCP(this)" />
                </div>
            </div>
        </div>
        <div id="helpblock">
            <div ID="help">
            </div>
            <div>
                <div class='Indicator1'>  <img class='IO' id='Pend' src='DarkOff.png'/> Update Pending </div>
            </div>
        </div>
    </div>

<script type='text/javascript' src='globalfunctions.js'></script>
<script type='text/javascript' src='helptext.js'></script>
<script>

// define the default help text for this page
function PageText(x) {
    NetworkText(x)
}

// setup the dynamic page content
includeHTML();
PageText(0);
setupDHCP(document.getElementById('EnableDHCP'));

function setupDHCP(cb) {
    if(cb.checked) {
        document.getElementById('SystemIP').disabled = true;
        document.getElementById('SystemSubNet').disabled = true;
        document.getElementById('SystemGateway').disabled = true;
        document.getElementById('SystemDNS1').disabled = true;
        document.getElementById('SystemDNS2').disabled = true;
    }
    else {
        document.getElementById('SystemIP').disabled = false;
        document.getElementById('SystemSubNet').disabled = false;
        document.getElementById('SystemGateway').disabled = false;
        document.getElementById('SystemDNS1').disabled = false;
        document.getElementById('SystemDNS2').disabled = false;
    }
}

function handleDHCP(cb) {
    if(cb.checked) {
        document.getElementById('SystemIP').disabled = true;
        document.getElementById('SystemSubNet').disabled = true;
        document.getElementById('SystemGateway').disabled = true;
        document.getElementById('SystemDNS1').disabled = true;
        document.getElementById('SystemDNS2').disabled = true;
        newAJAXCommand('dscript.cgi?System_EnableDHCP=1');
    }
    else {
        document.getElementById('SystemIP').disabled = false;
        document.getElementById('SystemSubNet').disabled = false;
        document.getElementById('SystemGateway').disabled = false;
        document.getElementById('SystemDNS1').disabled = false;
        document.getElementById('SystemDNS2').disabled = false;
        newAJAXCommand('dscript.cgi?System_EnableDHCP=0');
    }
    newAJAXCommand('dscript.cgi?SystemCmdUpdated=1');
}
</script>

</body>
</html>

